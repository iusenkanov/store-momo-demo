{"remainingRequest":"/Users/iskenderusenkanov/Kubernetes/momo-store-demo/frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/iskenderusenkanov/Kubernetes/momo-store-demo/frontend/src/components/profile/ChangePassword.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/iskenderusenkanov/Kubernetes/momo-store-demo/frontend/src/components/profile/ChangePassword.vue","mtime":1743484457792},{"path":"/Users/iskenderusenkanov/Kubernetes/momo-store-demo/frontend/node_modules/babel-loader/lib/index.js","mtime":1743485462509},{"path":"/Users/iskenderusenkanov/Kubernetes/momo-store-demo/frontend/node_modules/ts-loader/index.js","mtime":1743485460995},{"path":"/Users/iskenderusenkanov/Kubernetes/momo-store-demo/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1743485460826},{"path":"/Users/iskenderusenkanov/Kubernetes/momo-store-demo/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1743485460970}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCB9IGZyb20gJ3Z1ZScKaW1wb3J0IHsgQXhpb3NFcnJvciB9IGZyb20gJ2F4aW9zJzsKCmltcG9ydCBTcGlubmVyIGZyb20gJ0AvY29tcG9uZW50cy9taXNjL1NwaW5uZXIudnVlJzsKaW1wb3J0IENlbnRlciBmcm9tICdAL2NvbXBvbmVudHMvbWlzYy9DZW50ZXIudnVlJzsKaW1wb3J0IEFsZXJ0IGZyb20gJ0AvY29tcG9uZW50cy9taXNjL0FsZXJ0LnZ1ZSc7CgpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIG5hbWU6ICdDaGFuZ2VQYXNzd29yZCcsCiAgY29tcG9uZW50czogewogICAgU3Bpbm5lciwKICAgIENlbnRlciwKICAgIEFsZXJ0CiAgfSwKICBlbWl0czogWwogICAgJ2Nsb3NlJwogIF0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG9sZFBhc3N3b3JkOiAnJywKICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICBwYXNzd29yZENvbmZpcm1hdGlvbjogJycsCiAgICAgIGVycm9yOiAnJywKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGVycm9yX21lc3NhZ2U6ICcnLAogICAgICBzdWNjZXNzX21lc3NhZ2U6ICcnCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVTdWJtaXQoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CgogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnY2hhbmdlUGFzc3dvcmQnLCB7CiAgICAgICAgb2xkX3Bhc3N3b3JkOiB0aGlzLm9sZFBhc3N3b3JkLAogICAgICAgIG5ld19wYXNzd29yZDogdGhpcy5wYXNzd29yZAogICAgICB9KS50aGVuKChkYXRhOiBhbnkpID0+IHsKCiAgICAgICAgdGhpcy5zdWNjZXNzX21lc3NhZ2UgPSBkYXRhLmRldGFpbDsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlJyk7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2xvZ2luJyk7CiAgICAgICAgfSwgMzAwMCk7CgogICAgICB9KS5jYXRjaCgoZXJyb3I6IEF4aW9zRXJyb3IpID0+IHsKICAgICAgICBpZighZXJyb3IuaXNBeGlvc0Vycm9yIHx8ICFlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgdGhpcy5lcnJvcl9tZXNzYWdlID0gJ0Nvbm5lY3Rpb24gZXJyb3InOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmVycm9yX21lc3NhZ2UgPSBlcnJvci5yZXNwb25zZS5kYXRhLmRldGFpbDsKICAgICAgICB9CgogICAgICB9KS5maW5hbGx5KCgpID0+IHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlUGFzc3dvcmRJbnB1dCgpIHsKICAgICAgY29uc3QgY29uZmlybWF0aW9uSW5wdXQgPSB0aGlzLiRyZWZzLnBhc3N3b3JkQ29uZmlybWF0aW9uIGFzIEhUTUxJbnB1dEVsZW1lbnQ7CiAgICAgIGNvbmZpcm1hdGlvbklucHV0LnNldEN1c3RvbVZhbGlkaXR5KHRoaXMucGFzc3dvcmQgPT09IHRoaXMucGFzc3dvcmRDb25maXJtYXRpb24gPyAnJyA6ICdQYXNzd29yZHMgZG8gbm90IG1hdGNoJyk7CiAgICB9CiAgfQp9KQo="},{"version":3,"sources":["/Users/iskenderusenkanov/Kubernetes/momo-store-demo/frontend/src/components/profile/ChangePassword.vue"],"names":[],"mappings":";AA6DA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACpC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;AAElC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACnD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACjD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;AAE/C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC7B,CAAC,CAAC,CAAC,CAAC,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C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC7E,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAClH;EACF;AACF,CAAC","file":"/Users/iskenderusenkanov/Kubernetes/momo-store-demo/frontend/src/components/profile/ChangePassword.vue","sourceRoot":"","sourcesContent":["<template>\n\n  <Alert v-if=\"error_message\" v-model=\"error_message\" class=\"alert-danger\" />\n\n  <Alert v-if=\"success_message\" v-model=\"success_message\" class=\"alert-success\" :dismissible=\"false\"/>\n\n  <form v-else @submit.prevent=\"handleSubmit\" class=\"my-3\">\n    <div class=\"mb-2\">\n      <input \n        type=\"password\" \n        v-model=\"oldPassword\" \n        class=\"form-control\" \n        placeholder=\"Old Password\" \n        :disabled=\"loading\"\n        required\n      />\n    </div>\n    <div class=\"mb-2\">\n      <input \n        type=\"password\" \n        v-model=\"password\" \n        class=\"form-control\" \n        placeholder=\"New password\" \n        ref=\"password\" \n        @input=\"handlePasswordInput\"\n        :disabled=\"loading\"\n        required \n      />\n    </div>\n    <div class=\"mb-2\">\n      <input \n        type=\"password\" \n        v-model=\"passwordConfirmation\" \n        class=\"form-control\" \n        placeholder=\"Confirm the new password\" \n        ref=\"passwordConfirmation\" \n        @input=\"handlePasswordInput\"\n        :disabled=\"loading\"\n        required \n      />\n    </div>\n    <div class=\"d-flex justify-content-end\">\n      <Center v-if=\"loading\" class=\"mx-2\">\n        <Spinner size=\"2rem\" thickness=\"0.75rem\" />\n      </Center>\n      <button\n        type=\"button\" \n        class=\"btn btn-secondary me-3\" \n        @click=\"$emit('close')\"\n        :disabled=\"loading\"\n      >Cancel</button>\n      <button \n        type=\"submit\" \n        class=\"btn btn-primary\"\n        :disabled=\"loading\"\n      >Change password</button>\n    </div>\n  </form>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nimport { AxiosError } from 'axios';\n\nimport Spinner from '@/components/misc/Spinner.vue';\nimport Center from '@/components/misc/Center.vue';\nimport Alert from '@/components/misc/Alert.vue';\n\nexport default defineComponent({\n  name: 'ChangePassword',\n  components: {\n    Spinner,\n    Center,\n    Alert\n  },\n  emits: [\n    'close'\n  ],\n  data() {\n    return {\n      oldPassword: '',\n      password: '',\n      passwordConfirmation: '',\n      error: '',\n      loading: false,\n      error_message: '',\n      success_message: ''\n    }\n  },\n  methods: {\n    handleSubmit() {\n      this.loading = true;\n\n      this.$store.dispatch('changePassword', {\n        old_password: this.oldPassword,\n        new_password: this.password\n      }).then((data: any) => {\n\n        this.success_message = data.detail;\n        setTimeout(() => {\n          this.$emit('close');\n          this.$router.push('/login');\n        }, 3000);\n\n      }).catch((error: AxiosError) => {\n        if(!error.isAxiosError || !error.response) {\n          this.error_message = 'Connection error';\n        } else {\n          this.error_message = error.response.data.detail;\n        }\n\n      }).finally(() => {\n        this.loading = false;\n      });\n    },\n    handlePasswordInput() {\n      const confirmationInput = this.$refs.passwordConfirmation as HTMLInputElement;\n      confirmationInput.setCustomValidity(this.password === this.passwordConfirmation ? '' : 'Passwords do not match');\n    }\n  }\n})\n</script>\n"]}]}